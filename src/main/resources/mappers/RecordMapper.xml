<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <!-- 위 문장으로 아래는 mapper의 내용이 됨 -->

<mapper namespace="RecordDAO">

	<!-- 전적 회원,롤 정보 가져오기 -->
	<select id="record_info" parameterType="record" resultType="record">
		SELECT lol_info.*, user_info.summoner_id, user_info.user_no, user_info.profile_icon
		FROM lol_info, user_info
		WHERE user_info.user_no = #{user_no} 
		AND lol_info.user_no = user_info.user_no
	</select>
	
	<!-- 롤 전적 가져오기 -->
	<select id="record_score" parameterType="record" resultType="record">
		SELECT a.*
		FROM (
			SELECT *
			FROM lol_record
			WHERE user_no=#{user_no}
			order by record_no desc
			) a
		<![CDATA[where rownum <= 5]]>
	</select>
	
	<!-- 전적 더보기 버튼 -->
	<select id="record_more" parameterType="hashmap" resultType="record">
		SELECT *
		FROM (
			SELECT rownum num, a.*
			FROM (
				SELECT *
				FROM LOL_RECORD
				WHERE USER_NO = #{user_no}
				ORDER BY RECORD_NO desc 
			) a
		)
		WHERE num BETWEEN #{begin_num} AND #{begin_num} +4
	</select>
	
	
	
	
	
</mapper>